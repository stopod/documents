## イベントストーミングについて

参考：https://www.youtube.com/watch?v=jC9lE4YqgyY

以下の何かがある

| モデル表記             | 付箋の色 | 意味づけ                                                                                                                              |
| :--------------------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------ |
| イベント               | 橙       | ビジネスドメインにとって関心のある出来事                                                                                              |
| Aggregates(集約)       | 黄       | コマンドが処理できるデータ 集約のイメージがいまいちぴんとこないな                                                                     |
| コマンド               | 青       | ドメインイベントにつながるトリガ、または操作                                                                                          |
| ポリシー               | 紫       | ドメインイベントの結果として実行されるロジック <br>「～の場合は～を実行」<br>自動的にとかいつでもっていう意味をもつらしい、暗黙の方針 |
| システム               | 桃       | 外部システム ？                                                                                                                       |
| RealModel              | 薄緑     | 何らかのアクションを実行するために必要なデータ                                                                                        |
| アクター               | 黄土     |                                                                                                                                       |
| ホットスポット         | 赤       | 留意点、いま議論すべきではないし、確定する情報がない                                                                                  |
| （地球儀みたいなやつ） | 水       |                                                                                                                                       |

### 進め方

1. イベントを書き出す
2. 時系列に並べる
3. カラーパズル  
   矢印の順番で色をつなぐ必要がある  
   この段階ではイベントとイベントが直接つながっている  
   イベントにコマンドを入れる、その後間に Aggregates かシステムを入れる

### メモ

- イベントが発生するのならば、必ずコマンドと Aggregates or システム が存在する
- イベントからコマンドに行く場合は下記の二択
  - ポリシーを経由（よく使われるのはこっち）
  - RealModel -> アクターを経由
- コンテキストは「ドメイン駆動設計のサブドメイン」

---

## ドメイン駆動設計について

- ドメイン  
  ソフトウェアで問題解決しようとする対象領域

- モデル  
   問題解決のために、物事の特定の側面を抽象化したもの

  - ドメインモデル  
    ドメインの問題を解決するためのモデル
  - データモデル  
    データの永続化方法を決めるためのモデル

- ドメインモデリング  
  これの一つにイベントストーミングがある感じ？

- 集約  
  「必ず守りたい強い整合性を持ったオブジェクトのまとまり」
  強い整合性確保が必要なものを 1 つの集約にする  
  トランザクションを必ず一つにする  
  集約の境界は次の観点に気を付けないといけいないらしい
  - 整合性を確保する必要性の強さ
  - トランザクションの範囲の適切さ
