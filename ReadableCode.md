## リーダブルコード

読んだメモっぽいもの  
タイトル: The Art of Readable Code  
著者: Dustin Boswell  
訳: 角 征 典  

" The Art of Readable Code by Dustin Boswell and Trevor Foucher. Copyright 2012 Dustin Boswell and Trevor Foucher, 978-0-596-80229-5"  

Dustin Boswell. リーダブルコード (Kindle の位置No.99-100). Kindle 版. 

---

### 1章 理解しやすいコード

- コードは理解しやすくなければならない
- コードは他の人が最短時間で理解できるように書かなければならない
---

### 2章 名前に情報を詰め込む

- 明確な単語を選ぶ
  - 「get」はあまり明確な単語ではない
    - 「GetPage()」よりは「FetchPage()」「DounloadPage()」の方が明確

- 汎用的な名前を避ける（あるいは使う状況を選ぶ）
  - retvalには戻り値です以外の情報はない（戻り値なのは自明）
  - 良い名前というのは、「変数の目的や値を表すもの」
  - 汎用的な名前は情報の一時的な保管に限っては問題がない（生存期間が数行）  
  　明確な理由がある場合は別である
  - ループイテレータ（i, j, k, iter...）
    - club_i, members_i, users_iとかci, mi, uiにすると良いらしい（本当か？）

  少しでも時間を使って良い名前を考える習慣をつけるようにすれば、  
  すぐに「命名力」の高まりが感じられるようになるだろう  
  （命名力の高まりってのがおもしろい）

- 抽象的な名前よりも具体的な名前を使う
  - 「ServerCanStart()」よりも「CanListenOnPort()」のほうが具体的である

- 接尾辞や接頭辞を使って情報を追加する
  - 時価やバイト数のように計測できるものがあれば、変数名に単位を入れると良い
  - その他の重要な属性を追加する
    - plaintext, unescaped, utf8, urlenc...
      - すべての変数名に属性を追加しろということではなく、変数の意味を間違えてしまったときに  
        バグになりそうなところにだけ使うことが大切である
  - ミリ秒を表す変数名には、後ろに_msをつける、これからエスケープが必要な変数名には、前にraw_をつける

- 名前の長さを決める
  - 良い名前を選ぶときには、「長い名前を避ける」という暗黙的な制約がある  
  - スコープが小さければ短い名前でもいい
  - 長い名前を入力するのは問題じゃない
    - プログラミングに使うテキストエディタいは「単語補完」機能がついている
  - プロジェクト固有の省略形はダメ
    - docがdocumentで、strがstringであることはプログラマなら分かる
    - 不要な単語を投げ捨てる
      - 「ConvertToString()」を「ToString()」にしても必要な情報は何も損なわれていない

- 名前のフォーマットで情報を伝える
  - 例えばクラスのメンバ変数にアンダースコアをつけて、ローカル変数と区別する  
    （例えばの話）

### 3章 誤解されない名前

  - 名前が「他の意味と間違えられることはないだろうか？」と何度も自問自答する
    - 「filter()」  -> 選択するのか除外するのかわからない  
      「選択する」のであればselect()で、「除外する」のであればexlude()にしたほうが良い
    - 「Clip(text, length))」  -> 最後からlength文字を削除か、最大length文字まで切り詰めるかが不明瞭
    - 限界値を含めるときはmin, maxを使う
    - 範囲を指定するときはfirstとlastを使う
    - 包括, 排他的範囲にはbegin, endを使う

